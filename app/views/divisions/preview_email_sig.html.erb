


<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.2/modernizr.js"></script>

<div class="se-pre-con-<%=@company.slug%>"></div>
<div class="container preview <%=@company.slug%>">
	<div class="row preview-row1">
    	<div class="col-xs-12">
    		<%= render 'preview_email_sig_header' %>
      	</div>       
  	</div>
	<div class="row">
			<ol style="padding: 0px 214px 10px ";> 
				<li><strong>Copy email signature</strong>. To do so simply click the COPY button below.</li> 
				<li>The next step is to paste your email signature into your email client. For MS Outlook users...</li>                
		</ol>  
	</div>
	<div class="row preview-row2" style="padding-top: 0px">
		<div class="col-xs-12">
			<%= link_to 'Back to Input', generate_division_path(@division,back:true), class: "btn-default3 #{@company.slug}-border ", style: "margin-left: 0px" %>
			<input type="button" name="commit" value="  COPY  " class="js-emailcopybtn btn-default <%=@company.slug%>-bg" >
		 </div>
	</div>  
</div>

<div class="container preview "><div class="col-xs-12 row preview-row4"><div class= "or"></div>	</div></div>

<div class="container js-emaillink">
	<div class="col-xs-12" style="line-height:1.1"><br><br> 
	<%= render file: @generated_email_sig_file.path, layout: false, content_type: 'html' %>
	</div><br><br>
</div>		

<div class="container preview "><div class="col-xs-12 row preview-row4"><div class= "or"></div>	</div></div>
	










<script>
var copyEmailBtn = document.querySelector('.js-emailcopybtn');  
copyEmailBtn.addEventListener('click', function(event) {  
  // Select the email link anchor text  
  var emailLink = document.querySelector('.js-emaillink');  
  var range = document.createRange();  
  range.selectNode(emailLink);  
  window.getSelection().addRange(range);  
    
  try {  
    // Now that we've selected the anchor text, execute the copy command  
    var successful = document.execCommand('copy');  
    var msg = successful ? 'successful' : 'unsuccessful';  
    console.log('Copy email command was ' + msg);  
  } catch(err) {  
    console.log('Oops, unable to copy');  
  }  
    
  // Remove the selections - NOTE: Should use   
  // removeRange(range) when it is supported  
  window.getSelection().removeAllRanges();  
});
</script>

